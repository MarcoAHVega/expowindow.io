<!-- 
& 66. BONUS Contact Form Submission (PHP Script)
   All right guys so I decided to add on a little bonus here. I want to actually make the contact form on our Web site work now that we're actually deployed and our shared host has p p installed which is a programming language so we can execute HP files and PDP has a very simple mail function that we can use to actually make this this form work. So what I'm going to do is have it submit to my Brad ad edge the ledger dot net email which you can see my inbox right here. Now in the lecture files for this section or this lecture I should say you're going to have a zip file called contact an inside that you're going to have two files and I have that right here. So you gonna process stop BHP and success dot HCM CML. So we're just going to move those two files to our project to our Web site locally. And I'm going to go back into this code with those two added files and in our index file we have our form which doesn't have any attributes. So in order for the form to submit we want to put an action and we wanted to submit to process dot BHP. It's gonna submit to that BHP file and then we also want to add a method there's different types of HDP methods. We have a get request which is basically just when the page loads it's a get request. But when you submit a form you want to make a post request to the server. OK. So we want to do Method POST and we'll save that. And what that's going to do is it's going to submit to this process dot page P file which is a very very simple script. I actually got it from the in motion hosting documentation. It's it's very very simple you probably want to add more validation and so on. If you are going to you know if this was a production site but I just want to make it work. So I'm just gonna go through it and I know a lot of you probably don't know BHP but it's just checking to see if the email field is filled in this post. Email pertains to our form input right here because the name is email. All right. So this is actually called a super global and it's looking for the name attribute of email. So if that's filled in it's going to proceed and it's going to create some variables. Okay this variable is the email that we want to submit to. So you would change this to yours and then we have the rest of these variables just pointing to whatever text is filled in the form fields. So for the name email phone and message those who get put into variables which are like place holders then we're going to run a function called mail which is a BHP function. The first parameter is the email that it's going to send to which is our admin email here and then the second is the subject of the email which will be new form submission of course you can change it if you want and then the body is going to be the message and the phone number. That's what's going to be in the actual email body and then from is going to be whatever the user puts in as their email. And then once all that happens once it sends we're going to redirect using the header function. So this will redirect us to a file called success story h t email which I have right here. So if we look at success each now it's very simple. We just have the nav bar minus the links and the footer. And then here we just have a thank you message. So I can show you this real quick if I just open with live server. Actually it opened on the wrong screen. Hold on just bring it over real quick. All right. So this is what it's going to look like once you submit the form it's just going to say thank you and then you can choose to go back to the site. OK. So that's pretty much it. Now there's one other thing we need to change and it's actually in our JavaScript file the main dot J.S. now right here we were grabbing on to a click event for the nav bar links for the smooth scrolling as well as the class of button. Now the class of button is also on the Submit button here. OK. And inside the javascript what we're saying is test is to prevent the default behavior of the form or the button I should say. And since we have that class on our form button it won't submit correctly. So what I'm gonna do is just get rid of the dot B10 and the comma. That way the smooth scrolling is only on the nav bar in the form should be able to submit. So let's save that. And now our Web site should be all set. We just want to open up files zilla. Go ahead and log in and we're just going to basically replace the files that are there. So I'm going to drag all of these over if it asks to overwrite just say yes and now it should work. So let's head over to edu ledger dot net or whatever your whatever Web site you're using if you're following along. And I'm going to just reload and then fill this out real quick. So I'll say John Doe email to John Doe at gmail no here. Just all fives. And then a message will we'll just say hello world. All right. So now I'm going to click send. Now what happened is it's submitted to the process stop P. file it ran that called the mail function so it should have sent and then redirected us to success study each team L and we can go back if we want. Now I'm gonna go to my inbox and I'm going to reload and we have an email from John at gmail dot com and you can see the subject is new form submission because that's what we put in the process speech PDF file and the body here is whatever we put in the message field and whatever we put in the phone field. OK. So we now have a working contact form and they know that p p is not part of this course but I wanted to at least have this be a full Web site where the form actually worked. OK. So hopefully you guys can appreciate that and that's it. I'll see you in the next section.
 -->